/*
 * Created on 9 12ì›” 2015 ( Time 16:26:40 )
 * Generated by Telosys Tools Generator ( version 2.1.0 )
 */
package com.app.micimpact.rest.controller;

import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;

import javax.annotation.Resource;
import javax.servlet.ServletContext;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.bind.annotation.ResponseStatus;

import com.app.micimpact.bean.Categories;
import com.app.micimpact.business.service.CategoriesService;
import com.app.micimpact.rest.common.AbstractRestController;
import com.app.micimpact.rest.common.notification.Notification;

/**
 * Spring MVC controller for 'Categories' management.
 */

@RequestMapping("/category")
@Controller
public class CategoriesRestController extends AbstractRestController {
	@Autowired
	ServletContext servletContext;
	@Resource
	private CategoriesService categoriesService;
	
	@RequestMapping( value="",
			method = {RequestMethod.GET, RequestMethod.POST},
			produces = MediaType.APPLICATION_JSON_VALUE)
    @ResponseStatus(HttpStatus.OK)
	@ResponseBody
	public HashMap<String, Object> category() {
		HashMap<String, Object> ret = new HashMap<String, Object> ();
		try {
			ret.put("Notification", "Success");
		} catch (Exception e) {
			ret.put("Error:", e);
		}
		ret.put("categories", categoriesService.findAll());
		
		return SUCCESS(ret);
	}
	
	@RequestMapping( value="/{category_id}",
			method = {RequestMethod.GET, RequestMethod.POST},
			produces = MediaType.APPLICATION_JSON_VALUE)
    @ResponseStatus(HttpStatus.OK)
	@ResponseBody
	public List<Categories> findOne(@PathVariable("category_id") Integer categoryId) {
		return categoriesService.findAll();
	}
	
	
}
